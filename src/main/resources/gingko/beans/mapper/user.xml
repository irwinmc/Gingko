<!DOCTYPE mapper
		PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
		"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="org.gingko.app.persist.mapper.UserMapper">

	<resultMap id="userMap" type="org.gingko.app.persist.domain.User">
		<id column="user_id" property="userId"/>
		<result column="account" property="account"/>
		<result column="password" property="password"/>
		<result column="name" property="name"/>
		<result column="identity" property="identity"/>
	</resultMap>

    <select id="selectByAccount" resultMap="userMap">
		select * from gingko.sys_user where account=#{account}
	</select>

	<select id="selectByPage" resultMap="userMap">
		select * from gingko.sys_user limit #{limit} offset #{offset}
	</select>

	<select id="login" resultMap="userMap">
		select * from gingko.sys_user where "account"=#{account} and "password"=#{password}
	</select>

	<select id="totalCount" resultType="int">
		select count(*) from gingko.sys_user
	</select>

	<insert id="insert">
		insert into gingko.sys_user (
			"account", "password", "name", "identity"
		) values (
			#{account}, #{password}, #{name}, #{identity}
		)
	</insert>

    <update id="update">
		update gingko.sys_user set "password"=#{password}, "name"=#{name}, "identity"=#{identity} where "account"=#{account}
	</update>

	<delete id="deleteByAccount">
		delete from gingko.sys_user where "account"=#{account}
	</delete>

</mapper>